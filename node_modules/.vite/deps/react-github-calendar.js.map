{
  "version": 3,
  "sources": ["../../react-activity-calendar/build/index.js", "../../react-github-calendar/src/lib.ts", "../../react-github-calendar/src/index.tsx"],
  "sourcesContent": ["'use client';\nexport { A as ActivityCalendar } from './chunks/index-CqFS6gMj.js';\nimport 'react';\nimport 'date-fns';\nimport 'react/jsx-runtime';\n//# sourceMappingURL=index.js.map\n", "import type { ThemeInput } from 'react-activity-calendar'\nimport type { Activity } from './types'\n\nexport const gitHubTheme = {\n  light: ['#ebedf0', '#9be9a8', '#40c463', '#30a14e', '#216e39'],\n  dark: ['#161b22', '#0e4429', '#006d32', '#26a641', '#39d353'],\n} satisfies ThemeInput\n\nexport const transformData = (\n  data: Array<Activity>,\n  transformFn?: (data: Array<Activity>) => Array<unknown>,\n): Array<Activity> => {\n  if (typeof transformFn !== 'function') {\n    return data\n  }\n\n  const transformedData = transformFn(data)\n\n  if (!Array.isArray(transformedData)) {\n    throw Error(`transformData() function must return a list of Activity objects.`)\n  }\n\n  for (const d of transformedData) {\n    if (!isRecord(d)) {\n      throw Error(`transformData() must return a list of valid Activity objects.`)\n    }\n\n    if (typeof d.count !== 'number' || d.count < 0) {\n      throw Error(`Required property \"count: number\" missing or invalid. Got: ${d.count as string}`)\n    }\n\n    if (typeof d.date !== 'string' || !/\\d{4}-\\d{2}-\\d{2}/.test(d.date)) {\n      throw Error(\n        `Required property \"date: YYYY-MM-DD\" missing or invalid. Got: ${d.date as string}`,\n      )\n    }\n\n    if (typeof d.level !== 'number' || d.level < 0 || d.level > 4) {\n      throw Error(\n        `Required property \"level: 0 | 1 | 2 | 3 | 4\" missing or invalid: Got: ${d.level as string}.`,\n      )\n    }\n  }\n\n  return transformedData as Array<Activity>\n}\n\nconst isRecord = (o: unknown): o is Record<string, unknown> =>\n  Object.prototype.toString.call(o) === '[object Object]'\n", "'use client'\n\nimport { forwardRef, useCallback, useEffect, useState } from 'react'\nimport { ActivityCalendar, type Props as ActivityCalendarProps } from 'react-activity-calendar'\nimport { gitHubTheme, transformData } from './lib'\nimport type { Activity, ApiErrorResponse, ApiResponse, Year } from './types'\n\nexport type Props = {\n  username: string\n  errorMessage?: string\n  throwOnError?: boolean\n  transformData?: (data: Array<Activity>) => Array<Activity>\n  year?: Year\n} & Omit<ActivityCalendarProps, 'data'>\n\nasync function fetchCalendarData(username: string, year: Year): Promise<ApiResponse> {\n  const apiUrl = 'https://github-contributions-api.jogruber.de/v4/'\n  const response = await fetch(`${apiUrl}${username}?y=${String(year)}`)\n  const data = (await response.json()) as ApiResponse | ApiErrorResponse\n\n  if (!response.ok) {\n    throw Error(\n      `Fetching GitHub contribution data for \"${username}\" failed: ${(data as ApiErrorResponse).error}`,\n    )\n  }\n\n  return data as ApiResponse\n}\n\nexport const GitHubCalendar = forwardRef<HTMLElement, Props>(\n  (\n    {\n      username,\n      year = 'last',\n      labels,\n      transformData: transformFn,\n      throwOnError = false,\n      errorMessage = `Error â€“ Fetching GitHub contribution data for \"${username}\" failed.`,\n      ...props\n    },\n    ref,\n  ) => {\n    const [data, setData] = useState<ApiResponse | null>(null)\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState<Error | null>(null)\n\n    const fetchData = useCallback(() => {\n      setLoading(true)\n      setError(null)\n      fetchCalendarData(username, year)\n        .then(setData)\n        .catch((err: unknown) => {\n          if (err instanceof Error) {\n            setError(err)\n          }\n        })\n        .finally(() => {\n          setLoading(false)\n        })\n    }, [username, year])\n\n    useEffect(fetchData, [fetchData])\n\n    // React error boundaries can't handle asynchronous code, so rethrow.\n    if (error) {\n      if (throwOnError) {\n        throw error\n      } else {\n        return <div>{errorMessage}</div>\n      }\n    }\n\n    if (loading || !data) {\n      return <ActivityCalendar {...props} data={[]} loading />\n    }\n\n    const theme = props.theme ?? gitHubTheme\n\n    const defaultLabels = {\n      totalCount: `{{count}} contributions in ${year === 'last' ? 'the last year' : '{{year}}'}`,\n    }\n\n    return (\n      <ActivityCalendar\n        data={transformData(data.contributions, transformFn)}\n        labels={Object.assign({}, defaultLabels, labels)}\n        ref={ref}\n        {...props}\n        theme={theme}\n        loading={Boolean(props.loading) || loading}\n        maxLevel={4}\n      />\n    )\n  },\n)\n\nGitHubCalendar.displayName = 'GitHubCalendar'\n"],
  "mappings": "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",
  "names": ["gitHubTheme", "light", "dark", "transformData", "data", "transformFn", "transformedData", "Array", "isArray", "Error", "d", "isRecord", "count", "date", "test", "level", "o", "Object", "prototype", "toString", "call", "fetchCalendarData", "username", "year", "apiUrl", "response", "fetch", "String", "json", "ok", "error", "GitHubCalendar", "forwardRef", "labels", "throwOnError", "errorMessage", "props", "ref", "setData", "useState", "loading", "setLoading", "setError", "fetchData", "useCallback", "then", "catch", "err", "finally", "useEffect", "_jsx", "children", "ActivityCalendar", "theme", "defaultLabels", "totalCount", "contributions", "assign", "Boolean", "maxLevel", "displayName"]
}
